(this["webpackJsonpSERO-Staking"]=this["webpackJsonpSERO-Staking"]||[]).push([[7],{102:function(e,t,n){},103:function(e,t,n){"use strict";n.r(t);var a=n(0),c=n.n(a),o=n(32),r=n.n(o),l=n(4),s=n(5),i=n(10),d=n(9),u=n(8),f=n(1),m=n(56),b=n(16),h=n(28),E=n(6),p=n.n(E),y=n(13),g=n(58),x=n.n(g),v=n(12),j=n.n(v),S=n(29),k=n.n(S),w=new(function(){function e(){Object(l.a)(this,e),this.id=void 0,this.id=0}return Object(s.a)(e,[{key:"jsonRpc",value:function(){var e=Object(y.a)(p.a.mark((function e(t,n){var a,c;return p.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a={id:this.id++,method:t,params:n},c=localStorage.getItem("rpcHost"),e.abrupt("return",new Promise((function(e,t){c?x.a.post(c,a).then((function(n){n.data&&n.data.error?t(new Error(n.data.error.message)):n.data&&n.data.result&&e(n.data.result)})).catch((function(e){t(e)})):t(new Error("rpc host required!"))})));case 3:case"end":return e.stop()}}),e,this)})));return function(t,n){return e.apply(this,arguments)}}()},{key:"commitTx",value:function(){var e=Object(y.a)(p.a.mark((function e(t){return p.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.initApp();case 2:return e.abrupt("return",new Promise((function(e,n){var a={from:t.from,value:"0x"+t.value.toString(16),gasPrice:"0x"+new j.a("1000000000").toString(16),cy:"SERO",gas:"0x"+new j.a("25000").toString(16),BuyShare:{Vote:t.mainPKr,Value:"0x"+t.value.toString(16),Pool:t.poolId}};k.a.executeContract(a,(function(t,a){a?n(a):e(t)}))})));case 3:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"initApp",value:function(){var e=Object(y.a)(p.a.mark((function e(){return p.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",new Promise((function(e){k.a.init({name:"MPoS",contractAddress:"SERO Staking of mobile",github:"https://github.com/sero-cash/sero-pp/example",author:"TIM",url:"http://192.168.50.86:3000",logo:"http://192.168.50.86:3000/assets/icon/icon.png"},(function(t){console.log("init result >>> ",t),k.a.getInfo((function(t){t&&(localStorage.setItem("language",t.language),localStorage.setItem("rpcHost",t.rpc)),e()}))}))})));case 1:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}()},{key:"getAccounts",value:function(){var e=Object(y.a)(p.a.mark((function e(){return p.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.initApp();case 2:return e.abrupt("return",new Promise((function(e,t){k.a.getAccountList((function(n,a){a?t(a):e(n)}))})));case 3:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"getAccount",value:function(){var e=Object(y.a)(p.a.mark((function e(t){return p.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.initApp();case 2:return e.abrupt("return",new Promise((function(e,n){k.a.getAccountDetail(t,(function(t,a){a?n(a):e(t)}))})));case 3:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()}]),e}()),O={zh_CN:{"0x388b2c9ba68a96bf697602fef9219f64e4ff8aef49815d0aeb56afd2a1276942":"\u8d5b\u7f57","0x82abc9d07aa976761cede08e53de8d5057efd81fc0c443c59b593231e69b4291":"SERDAC","0xbde17513156dbbd0730b7dde954ce5d66930d646ac60a2f118572f56960c9d59":"\u76d6\u4e16","0xfeb23ac54e8d93994689bd782140b5804cfeec9d51e5d5986b35d0d843d1c146":"\u5e01\u9f99\u9a74\u6c60","0x98f53bdad932c3865eebb229d0f74c4d2ee40440cfc2d34bf2ddec0a836f6f8d":"\u725b\u6c60","0xc8db791edb4d2063f625de473a5061f9323114cb9d6de6bdfc82bbbba82642f0":"\u76d8\u53e4","0xc248ba3e8f98ec6714a9c3b59c4422cbc473b90c0d4fb01e589f5b8ae20a24d7":"\u9a6c\u52aa","0x16759fd13a7143207b3ebb088711b242267303dcdad53562d45fb4cfaf5dbdac":"\u4ed9\u9f99\u8282\u70b9","0xda06d65e49808f31dec7b44339d856ff47ad2040a503ccd28a43a681195b23e1":"Hotbit ","0x4fb40805a34c590cc78ca3d5e4f938a64424db4d4326e87d314a82e1d676bd60":"\u7b2c\u4e00POS","0xcec0343b0b29eecb24ec54dafcb97adfedc2acc367348b851e71973aa4e54659":"\u83e0\u83dc","0xf1df2afb326a544a928a229a94f5eb8433d39688b590acd41c73d08200480b86":"\u96ea\u5e84Rose","0xbdb9555b61613f8b13fd16918c9a09e407c3e96afdf8fe5dc887317eb0253cd7":"\u8682\u8681","0x98d84dc25b65cf32a8488f04e728396fa96a15db682d79cde213a2368abb84d8":"HyperPay","0x86fea8e64ee24e515846642822ab7c0fabaf3f2879fb3064f267047d300b76f3":"9\u6c60\u8282\u70b9","0xf26f8e060b241ad3ff9c5821d85544b21419ef2730c5c64dc7bd89bfc3710885":"T\u7f51\u77ff\u6c60","0x6cd71031cdc64db40816eecb01f65b3b56cdbde843bcd0797424e6184bf88e07":"\u9b54\u5b8c","0xe058df83ef89df930aca3fed0c949ab6de1ccb51d2a87fc056631f11e3cd2ccc":"\u5206\u6c34\u5173","0x24a0a75882b3be4eb1b5ceee17c6f253d147cfbc43cb35e798cd5560f43d93ab":"QBTC\u8282\u70b9","0x5c7dbbe680d7687e23b0dd927c37e77f051d701d57ef118f2e7ef5ad9bf50c51":"\u8d85\u96f6\u732b\u732b","0x36e40dc58bf2db57f1831a02c2a248b0fa378ba3a99908c17a63ed622174d496":"\u8d85\u96f6\u7334\u54e5","0x16a800063ef8345f8441de438d97c8a49bc3373778e45a2f2cd25699be8d2c2b":"\u62b9\u8336\u8282\u70b9","0xfd703f582147e4725a9b3567635dde7e442182c1f28e315360e07692a968183b":"\u8d85\u7ea7\u8282\u70b9","0xb688861cf4b0f74509a4a4a0bdcdbe80ec0b5647bfcc41973498c9b8152fce41":"OKEx Pool","0xce85c13d0942c3118873facf99669d193711bdca77b3de36668fdf29429bd8e5":"\u8ffd\u65e5\u8282\u70b9","0x92af05b6d6c27a73eb8489f100c859cf3167298915cbae7262345e17aee6aa2c":"Bilaxy \u8282\u70b9","0x7fbbc2f11ac02255b48c8ab534d08a0e2fa134d483794ca9294ad296f8e71df7":"HCOIN","0x3800ad263e7b866d5fb21a59f867e415e6d8515b9ae58c84a9c1cdb38e7ba729":"BiKi\u77ff\u6c60"},en_US:{"0x388b2c9ba68a96bf697602fef9219f64e4ff8aef49815d0aeb56afd2a1276942":"SERO Node (sero.im)","0x82abc9d07aa976761cede08e53de8d5057efd81fc0c443c59b593231e69b4291":"SERDAC Node","0xbde17513156dbbd0730b7dde954ce5d66930d646ac60a2f118572f56960c9d59":"Galaxy Node","0xfeb23ac54e8d93994689bd782140b5804cfeec9d51e5d5986b35d0d843d1c146":"Coin Dragon Pool Node","0x98f53bdad932c3865eebb229d0f74c4d2ee40440cfc2d34bf2ddec0a836f6f8d":"Newbit Node","0xc8db791edb4d2063f625de473a5061f9323114cb9d6de6bdfc82bbbba82642f0":"Pangu Node","0xc248ba3e8f98ec6714a9c3b59c4422cbc473b90c0d4fb01e589f5b8ae20a24d7":"Manu Node","0x16759fd13a7143207b3ebb088711b242267303dcdad53562d45fb4cfaf5dbdac":"Immortal Dragon Node","0xda06d65e49808f31dec7b44339d856ff47ad2040a503ccd28a43a681195b23e1":"Hotbit Node ","0x4fb40805a34c590cc78ca3d5e4f938a64424db4d4326e87d314a82e1d676bd60":"The First PoS Node","0xcec0343b0b29eecb24ec54dafcb97adfedc2acc367348b851e71973aa4e54659":"Spinach Node","0xf1df2afb326a544a928a229a94f5eb8433d39688b590acd41c73d08200480b86":"Snow Rose Node","0xbdb9555b61613f8b13fd16918c9a09e407c3e96afdf8fe5dc887317eb0253cd7":"Ant Node","0x98d84dc25b65cf32a8488f04e728396fa96a15db682d79cde213a2368abb84d8":"HyperPay Node","0x86fea8e64ee24e515846642822ab7c0fabaf3f2879fb3064f267047d300b76f3":"Nine Node","0xf26f8e060b241ad3ff9c5821d85544b21419ef2730c5c64dc7bd89bfc3710885":"Tokencan.net Node","0x6cd71031cdc64db40816eecb01f65b3b56cdbde843bcd0797424e6184bf88e07":"Magic Node","0xe058df83ef89df930aca3fed0c949ab6de1ccb51d2a87fc056631f11e3cd2ccc":"Water Separation","0x24a0a75882b3be4eb1b5ceee17c6f253d147cfbc43cb35e798cd5560f43d93ab":"QBTC NODE","0x5c7dbbe680d7687e23b0dd927c37e77f051d701d57ef118f2e7ef5ad9bf50c51":"SERO Cat Node","0x36e40dc58bf2db57f1831a02c2a248b0fa378ba3a99908c17a63ed622174d496":"SERO Monkey Node","0x16a800063ef8345f8441de438d97c8a49bc3373778e45a2f2cd25699be8d2c2b":"MXC Node","0xfd703f582147e4725a9b3567635dde7e442182c1f28e315360e07692a968183b":"Super Node","0xb688861cf4b0f74509a4a4a0bdcdbe80ec0b5647bfcc41973498c9b8152fce41":"OKEx Pool","0xce85c13d0942c3118873facf99669d193711bdca77b3de36668fdf29429bd8e5":"Sun Chase Node","0x92af05b6d6c27a73eb8489f100c859cf3167298915cbae7262345e17aee6aa2c":"Bilaxy Node","0x7fbbc2f11ac02255b48c8ab534d08a0e2fa134d483794ca9294ad296f8e71df7":"HCOIN Node","0x3800ad263e7b866d5fb21a59f867e415e6d8515b9ae58c84a9c1cdb38e7ba729":"BiKi Pool"}},P=function(e){return e&&e.length>10&&(e=e.substr(0,10)+"..."+e.substr(e.length-10)),e},A=function(e,t){return new j.a(e).multipliedBy(new j.a(10).pow(t))},N=function(e,t){return e||(e=0),new j.a(e).dividedBy(new j.a(10).pow(t))},_=function(e){return e?new j.a(e).toString(10):"0"},C=function(e){return O.en_US[e]},M=function(e){var t=e.pool,n=e.onView,c=e.onStaking,o=new j.a(t.choicedNum),r=new j.a(t.missedNum),l=new j.a(t.wishVoteNum),s=o.minus(r),i="--";s.comparedTo(0)>0&&(i=l.dividedBy(s).multipliedBy(100).toFixed(2));var d=t.closed?a.createElement(f.H,{color:"danger"},"Close"):a.createElement(f.H,{color:"success"},"Normal");return a.createElement("div",null,a.createElement(f.f,null,a.createElement(f.h,null,a.createElement(f.i,null,a.createElement("span",{style:{textTransform:"lowercase"}},P(t.id))),a.createElement(f.j,null,C(t.id))),a.createElement(f.g,null,a.createElement(f.m,null,a.createElement(f.A,null,a.createElement(f.k,null,"Shares",a.createElement("br",null),a.createElement(f.x,{color:"tertiary"},_(t.shareNum))),a.createElement(f.k,null,"Fee",a.createElement("br",null),a.createElement(f.x,{color:"tertiary"},N(t.fee,2).toString(10)," %")),a.createElement(f.k,null,"Miss ",a.createElement("br",null),a.createElement(f.x,{color:"warning"},i,"%")),a.createElement(f.k,null,"State ",a.createElement("br",null),a.createElement(f.x,null,d))))),a.createElement(f.q,{lines:"none"},a.createElement(f.d,{fill:"outline",slot:"end",onClick:function(){return n(t)}},"View"),t.closed?"":a.createElement(f.d,{slot:"end",onClick:function(){return c(t)}},"Staking"))))},T=function(e){Object(i.a)(n,e);var t=Object(d.a)(n);function n(){var e;Object(l.a)(this,n);for(var c=arguments.length,o=new Array(c),r=0;r<c;r++)o[r]=arguments[r];return(e=t.call.apply(t,[this].concat(o))).state={poolList:[],poolListOrg:[],showLoading:!0,showToast:!1,toastMsg:"",showModal:!1,selectPool:null,searchText:""},e.renderList=function(t){console.log("list>>>",t);var n=new Array;return t.forEach((function(t){n.push(a.createElement(M,{pool:t,onView:e.onView,onStaking:e.onStaking}))})),n},e.onView=function(t){e.setState({selectPool:t,showModal:!0})},e.onStaking=function(e){window.location.href="/node/stake/".concat(e.id)},e.setShowLoading=function(t){e.setState({showLoading:t})},e.setShowToast=function(t){e.setState({showToast:t})},e.toast=function(t){e.setState({showToast:!0,toastMsg:t})},e.setShowModal=function(t){e.setState({showModal:t})},e.renderInfo=function(e){if(!e)return null;var t=new j.a(e.choicedNum),n=new j.a(e.missedNum),c=new j.a(e.wishVoteNum),o=t.minus(n),r=n.minus(c),l="--";o.comparedTo(0)>0&&(l=c.dividedBy(o).multipliedBy(100).toFixed(2));var s=e.closed?a.createElement(f.H,{color:"danger"},"Close"):a.createElement(f.H,{color:"success"},"Normal");return a.createElement("div",null,a.createElement(f.u,null,a.createElement(f.q,null,a.createElement(f.s,{className:"ion-text-wrap"},a.createElement(f.H,{color:"secondary",style:{fontWeight:"600"}},C(e.id)),a.createElement("p",null),a.createElement(f.H,{color:"dark"},e.id))),a.createElement(f.q,null,a.createElement(f.s,null,"State"),a.createElement(f.x,{slot:"end",color:"primary"},s)),a.createElement(f.q,null,a.createElement(f.s,null,"Node Voted"),a.createElement(f.x,{slot:"end",color:"tertiary"},_(t))),a.createElement(f.q,null,a.createElement(f.s,null,"Solo Voted"),a.createElement(f.x,{slot:"end",color:"tertiary"},_(r))),a.createElement(f.q,null,a.createElement(f.s,null,"Missed"),a.createElement(f.x,{slot:"end",color:"warning"},n.toString(10))),a.createElement(f.q,null,a.createElement(f.s,null,"Miss Rate"),a.createElement(f.x,{slot:"end",color:"danger"},l,"%")),a.createElement(f.q,null,a.createElement(f.s,null,"Fee"),a.createElement(f.x,{slot:"end",color:"tertiary"},N(e.fee,2).toString(10),"%")),a.createElement(f.q,null,a.createElement(f.s,null,"Shares"),a.createElement(f.x,{slot:"end",color:"tertiary"},_(e.shareNum))),a.createElement(f.q,null,a.createElement(f.s,null,"Profit"),a.createElement(f.x,{slot:"end",color:"tertiary"},N(e.profit,18).toFixed(2)," SERO")),a.createElement(f.q,null,a.createElement(f.s,null,"Lastest Pay Block"),a.createElement(f.x,{slot:"end",color:"tertiary"},_(e.lastPayTime)))))},e.changeTheme=function(e){localStorage.setItem("themeDark",e.detail.checked),document.body.classList.toggle("dark",e.detail.checked)},e.search=function(t){var n=e.state.poolListOrg,a=[];if(t){var c,o=t.toLowerCase(),r=Object(h.a)(n);try{for(r.s();!(c=r.n()).done;){var l=c.value,s=C(l.id);(l.id.indexOf(o)>-1||s&&s.toLowerCase().indexOf(o)>-1)&&a.push(l)}}catch(i){r.e(i)}finally{r.f()}}else a=n;e.setState({searchText:t,poolList:a})},e}return Object(s.a)(n,[{key:"componentDidMount",value:function(){this.getPoolList();var e=localStorage.getItem("themeDark"),t=!1;!0!==e&&"true"!==e||(t=!0),document.body.classList.toggle("dark",t),this.setState({isDark:t})}},{key:"getPoolList",value:function(){var e=this;w.jsonRpc("stake_stakePools",[]).then((function(t){e.setState({poolList:t,poolListOrg:t}),e.setShowLoading(!1)})).catch((function(t){e.toast(t.message),e.setShowLoading(!1)}))}},{key:"render",value:function(){var e=this,t=this.state,n=t.poolList,c=t.showLoading,o=t.showToast,r=t.toastMsg,l=t.showModal,s=t.selectPool,i=(t.isDark,t.searchText),d=this.renderList(n),u=this.renderInfo(s);return a.createElement(f.y,null,a.createElement(f.J,null,a.createElement(f.B,{value:i,onIonChange:function(t){return e.search(t.detail.value)}})),a.createElement(f.l,null,d,a.createElement(f.v,{cssClass:"my-custom-class",isOpen:c,onDidDismiss:function(){return e.setShowLoading(!1)},message:"Please wait..."}),a.createElement(f.I,{isOpen:o,onDidDismiss:function(){return e.setShowToast(!1)},message:r,duration:200}),a.createElement(f.w,{isOpen:l,cssClass:"my-custom-class"},u,a.createElement(f.A,null,a.createElement(f.k,{size:"3"},a.createElement(f.d,{onClick:function(){return e.setShowModal(!1)},expand:"block",fill:"outline"},"Close")),a.createElement(f.k,null,a.createElement(f.d,{onClick:function(){return e.onStaking(s)},expand:"block"},"Staking"))))))}}]),n}(a.Component),B=n(7),I=function(e){Object(i.a)(n,e);var t=Object(d.a)(n);function n(){var e;Object(l.a)(this,n);for(var c=arguments.length,o=new Array(c),r=0;r<c;r++)o[r]=arguments[r];return(e=t.call.apply(t,[this].concat(o))).state={data:null,share:0,amount:"0",price:"0",selectAccount:{},accounts:[],showToast:!1},e.loadData=function(t){var n=Object(B.a)(e);w.jsonRpc("stake_poolState",[t]).then((function(e){n.setState({data:e})}))},e.renderInfo=function(e){return e?a.createElement("div",null,a.createElement(f.u,null,a.createElement(f.q,null,a.createElement(f.s,{className:"ion-text-wrap"},a.createElement(f.H,{color:"secondary",style:{fontWeight:"600"}},C(e.id)),a.createElement("p",null),a.createElement(f.H,{color:"dark"},e.id))),a.createElement(f.q,{lines:"none"},a.createElement(f.s,null,"Fee"),a.createElement(f.x,{slot:"end",color:"tertiary"},N(e.fee,2).toString(10),"%")))):null},e.toast=function(t){e.setState({showToast:!0,toastMsg:t})},e.hideToast=function(){e.setState({showToast:!1,toastMsg:""})},e.setAccount=function(t){var n=Object(B.a)(e);w.getAccount(t).then((function(e){n.setState({selectAccount:e}),localStorage.setItem("selectAccountPK",t)}))},e.renderAccountsOp=function(e){var t=[];if(e&&e.length>0)for(var n=0;n<e.length;n++){var c=e[n];t.push(a.createElement(f.D,{value:c.PK},c.Name,"(",c.MainPKr,")"))}return t},e.getBalance=function(e,t){return e&&e.has(t)?N(e.get(t),18).toString(10):"0"},e}return Object(s.a)(n,[{key:"componentDidMount",value:function(){var e=localStorage.getItem("themeDark"),t=!1;!0!==e&&"true"!==e||(t=!0),document.body.classList.toggle("dark",t);var n=this.props.match.params.id;this.loadData(n),this.getAccounts()}},{key:"getAccounts",value:function(){var e=this;w.getAccounts().then((function(t){var n=localStorage.getItem("selectAccountPK");if(n){var a,c=Object(h.a)(t);try{for(c.s();!(a=c.n()).done;){var o=a.value;o.PK===n&&e.setState({selectAccount:o})}}catch(r){c.e(r)}finally{c.f()}}else t[0]&&e.setState({selectAccount:t[0]});e.setState({accounts:t})}))}},{key:"setAmount",value:function(e){(!e||e<=0)&&(e=1),console.log("amount>>>",e);var t=this,n=this.state.selectAccount,a={};a.from=n.PK,a.vote=n.MainPKr,a.value="0x"+A(e,18).toString(16),w.jsonRpc("stake_estimateShares",[a]).then((function(n){t.setState({price:N(new j.a(n.basePrice),18).toFixed(5),share:_(n.total),amount:e})}))}},{key:"buyShare",value:function(){var e=this,t=this.state,n=t.data,a=t.amount,c=t.share,o=t.selectAccount;console.log("share>>>",c),a&&0!==c&&"0"!==c?w.jsonRpc("stake_sharePrice",[]).then((function(t){var c=A(a,18),r=o.Balance.get("SERO");!r||new j.a(r).comparedTo(c)<0?e.toast("Not enough balance"):w.commitTx({from:o.PK,mainPKr:o.MainPKr,value:c,poolId:n.id}).then((function(e){console.log("commitTx>>>",e)})).catch((function(e){console.error("commitTx>>>",e)}))})):this.toast("Buy at least one share\uff01")}},{key:"render",value:function(){var e=this,t=this.state,n=t.data,c=t.share,o=t.amount,r=t.price,l=t.selectAccount,s=t.accounts,i=t.showToast,d=t.toastMsg,u=this.renderInfo(n),m=this.renderAccountsOp(s);return a.createElement("div",null,a.createElement(f.n,null,a.createElement(f.J,null,a.createElement(f.e,{slot:"start"},a.createElement(f.c,{defaultHref:"/"})))),a.createElement(f.u,{style:{maxHeight:document.documentElement.clientHeight,height:"auto",overflowY:"scroll",background:"#fff",paddingBottom:"150px"}},a.createElement(f.r,null,"Node Info"),u,a.createElement(f.r,null,"Buy Share"),a.createElement(f.q,null,a.createElement(f.s,null,"Staking SERO"),a.createElement(f.x,{slot:"end"},a.createElement(f.p,{type:"number",value:o,autofocus:!0,placeholder:"Enter Number",clearInput:!0,inputMode:"decimal",color:"dark",debounce:4,onIonChange:function(t){return e.setAmount(parseInt(t.detail.value,10))}}))),a.createElement(f.q,null,a.createElement(f.s,null,"Price"),a.createElement(f.x,{slot:"end",color:"tertiary"},r," SERO")),a.createElement(f.q,{lines:"none"},a.createElement(f.s,null,"Shares"),a.createElement(f.x,{slot:"end",color:"tertiary"},c)),a.createElement(f.r,null,"Select Account"),a.createElement(f.q,null,a.createElement(f.s,null,"Accounts"),a.createElement(f.C,{value:l.PK,placeholder:"Select One",onIonChange:function(t){return e.setAccount(t.detail.value)}},m)),a.createElement(f.q,null,a.createElement(f.s,null,"Balance"),a.createElement(f.H,{color:"success"},this.getBalance(l.Balance,"SERO")," SERO"))),a.createElement("div",{style:{position:"fixed",width:"100%",bottom:"0"}},a.createElement(f.A,null,a.createElement(f.k,null,a.createElement(f.d,{onClick:function(){return e.buyShare()},expand:"block"},"Commit")))),a.createElement(f.I,{onDidDismiss:this.hideToast,isOpen:i,message:d,duration:2e3,color:"warning"}))}}]),n}(a.Component),D=(n(92),n(93),n(94),n(95),n(96),n(97),n(98),n(99),n(100),n(101),n(102),function(e){Object(i.a)(n,e);var t=Object(d.a)(n);function n(){var e;Object(l.a)(this,n);for(var c=arguments.length,o=new Array(c),r=0;r<c;r++)o[r]=arguments[r];return(e=t.call.apply(t,[this].concat(o))).state={statics:null,selectAccount:{},accounts:[]},e.setAccount=function(t){var n=Object(B.a)(e);w.getAccount(t).then((function(e){e&&e.MainPKr&&(n.setState({selectAccount:e}),n.getStakeByPKr(e.MainPKr).catch(),localStorage.setItem("selectAccountPK",e.PK))}))},e.renderAccountsOp=function(e){var t=[];if(e&&e.length>0)for(var n=0;n<e.length;n++){var c=e[n];t.push(a.createElement(f.D,{value:c.PK},c.Name,"(",c.MainPKr,")"))}return t},e.getBalance=function(e,t){return e&&e.has(t)?N(e.get(t),18).toString(10):"0"},e.renderData=function(){var t=e.state.statics,n={};return t&&t.length>0&&(n=t[0]),a.createElement(f.u,null,a.createElement(f.r,null,"Staking Detail"),a.createElement(f.q,null,a.createElement(f.s,null,"Remaining"),a.createElement(f.x,{slot:"end",color:"primary"},_(n.remaining))),a.createElement(f.q,null,a.createElement(f.s,null,"Expired"),a.createElement(f.x,{slot:"end",color:"medium"},_(n.expired))),a.createElement(f.q,null,a.createElement(f.s,null,"Missed"),a.createElement(f.x,{slot:"end",color:"danger"},_(n.missed))),a.createElement(f.q,null,a.createElement(f.s,null,"Total"),a.createElement(f.x,{slot:"end",color:"success"},_(n.total))),a.createElement(f.q,null,a.createElement(f.s,null,"ShareIds Count"),a.createElement(f.x,{slot:"end",color:"tertiary"},_(n.shareIds?n.shareIds.length:0))),a.createElement(f.q,null,a.createElement(f.s,null,"Staking in Pools"),a.createElement(f.x,{slot:"end",color:"tertiary"},n.pools?n.pools.length:0)),a.createElement(f.q,null,a.createElement(f.s,null,"Total Amount"),a.createElement(f.x,{slot:"end",color:"secondary"},N(n.totalAmount,18).toString(10)," SERO")),a.createElement(f.q,null,a.createElement(f.s,null,"Profit"),a.createElement(f.x,{slot:"end",color:"secondary"},N(n.profit,18).toString(10)," SERO")))},e}return Object(s.a)(n,[{key:"componentDidMount",value:function(){this.getAccounts().catch((function(e){console.log(e)}))}},{key:"getStakeByPKr",value:function(){var e=Object(y.a)(p.a.mark((function e(t){var n,a;return p.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=this,e.next=3,w.jsonRpc("stake_getShareByPkr",[t]);case 3:a=e.sent,n.setState({statics:a});case 5:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"getAccounts",value:function(){var e=Object(y.a)(p.a.mark((function e(){var t,n,a,c,o,r;return p.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=this,e.next=3,w.getAccounts();case 3:if(n=e.sent,t.setState({accounts:n}),!(a=localStorage.getItem("selectAccountPK"))){e.next=28;break}c=Object(h.a)(n),e.prev=8,c.s();case 10:if((o=c.n()).done){e.next=18;break}if((r=o.value).PK!==a){e.next=16;break}return t.setState({selectAccount:r}),e.next=16,t.getStakeByPKr(r.MainPKr);case 16:e.next=10;break;case 18:e.next=23;break;case 20:e.prev=20,e.t0=e.catch(8),c.e(e.t0);case 23:return e.prev=23,c.f(),e.finish(23);case 26:e.next=32;break;case 28:if(!n[0]){e.next=32;break}return t.setState({selectAccount:n[0]}),e.next=32,t.getStakeByPKr(n[0].MainPKr);case 32:case"end":return e.stop()}}),e,this,[[8,20,23,26]])})));return function(){return e.apply(this,arguments)}}()},{key:"render",value:function(){var e=this,t=this.state,n=t.selectAccount,c=t.accounts,o=this.renderData(),r=this.renderAccountsOp(c);return a.createElement("div",null,a.createElement(f.u,null,a.createElement(f.r,null,"Select Account"),a.createElement(f.q,null,a.createElement(f.s,null,"Accounts"),a.createElement(f.C,{value:n.PK,placeholder:"Select One",onIonChange:function(t){return e.setAccount(t.detail.value)}},r)),a.createElement(f.q,{lines:"none"},a.createElement(f.s,null,"Balance"),a.createElement(f.H,{color:"secondary"},this.getBalance(n.Balance,"SERO")," SERO")),o))}}]),n}(a.Component)),K=function(e){Object(i.a)(n,e);var t=Object(d.a)(n);function n(){return Object(l.a)(this,n),t.apply(this,arguments)}return Object(s.a)(n,[{key:"componentDidMount",value:function(){w.initApp().then((function(e){})).catch((function(){}))}},{key:"render",value:function(){return c.a.createElement(f.b,null,c.a.createElement(m.a,null,c.a.createElement(f.G,null,c.a.createElement(f.z,null,c.a.createElement(u.c,{path:"/node/stake/:id",component:I,exact:!0}),c.a.createElement(u.c,{path:"/node/list",component:T,exact:!0}),c.a.createElement(u.c,{path:"/statistics",component:D,exact:!0}),c.a.createElement(u.c,{path:"/",render:function(){return c.a.createElement(u.b,{to:"/node/list"})},exact:!0})),c.a.createElement(f.E,{slot:"bottom"},c.a.createElement(f.F,{tab:"tab1",href:"/node",onClick:function(){window.location.href="/node/list"}},c.a.createElement(f.o,{icon:b.k}),c.a.createElement(f.s,null,"Nodes")),c.a.createElement(f.F,{tab:"tab3",href:"/statistics",onClick:function(){window.location.href="/statistics"}},c.a.createElement(f.o,{icon:b.b}),c.a.createElement(f.s,null,"Statistics"))))))}}]),n}(c.a.Component);Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));r.a.render(c.a.createElement(K,null),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()}))},62:function(e,t,n){e.exports=n(103)},68:function(e,t,n){var a={"./ion-action-sheet-ios.entry.js":[107,31],"./ion-action-sheet-md.entry.js":[108,32],"./ion-alert-ios.entry.js":[109,33],"./ion-alert-md.entry.js":[110,34],"./ion-app_8-ios.entry.js":[111,13],"./ion-app_8-md.entry.js":[112,14],"./ion-avatar_3-ios.entry.js":[113,35],"./ion-avatar_3-md.entry.js":[114,36],"./ion-back-button-ios.entry.js":[115,37],"./ion-back-button-md.entry.js":[116,38],"./ion-backdrop-ios.entry.js":[117,79],"./ion-backdrop-md.entry.js":[118,80],"./ion-button_2-ios.entry.js":[119,39],"./ion-button_2-md.entry.js":[120,40],"./ion-card_5-ios.entry.js":[121,41],"./ion-card_5-md.entry.js":[122,42],"./ion-checkbox-ios.entry.js":[123,43],"./ion-checkbox-md.entry.js":[124,44],"./ion-chip-ios.entry.js":[125,45],"./ion-chip-md.entry.js":[126,46],"./ion-col_3.entry.js":[127,81],"./ion-datetime_3-ios.entry.js":[128,19],"./ion-datetime_3-md.entry.js":[129,20],"./ion-fab_3-ios.entry.js":[130,47],"./ion-fab_3-md.entry.js":[131,48],"./ion-img.entry.js":[132,82],"./ion-infinite-scroll_2-ios.entry.js":[133,83],"./ion-infinite-scroll_2-md.entry.js":[134,84],"./ion-input-ios.entry.js":[135,49],"./ion-input-md.entry.js":[136,50],"./ion-item-option_3-ios.entry.js":[137,51],"./ion-item-option_3-md.entry.js":[138,52],"./ion-item_8-ios.entry.js":[139,53],"./ion-item_8-md.entry.js":[140,54],"./ion-loading-ios.entry.js":[141,55],"./ion-loading-md.entry.js":[142,56],"./ion-menu_3-ios.entry.js":[143,57],"./ion-menu_3-md.entry.js":[144,58],"./ion-modal-ios.entry.js":[145,15],"./ion-modal-md.entry.js":[146,16],"./ion-nav_2.entry.js":[147,27],"./ion-popover-ios.entry.js":[148,17],"./ion-popover-md.entry.js":[149,18],"./ion-progress-bar-ios.entry.js":[150,59],"./ion-progress-bar-md.entry.js":[151,60],"./ion-radio_2-ios.entry.js":[152,61],"./ion-radio_2-md.entry.js":[153,62],"./ion-range-ios.entry.js":[154,63],"./ion-range-md.entry.js":[155,64],"./ion-refresher_2-ios.entry.js":[156,21],"./ion-refresher_2-md.entry.js":[157,22],"./ion-reorder_2-ios.entry.js":[158,29],"./ion-reorder_2-md.entry.js":[159,30],"./ion-ripple-effect.entry.js":[160,85],"./ion-route_4.entry.js":[161,65],"./ion-searchbar-ios.entry.js":[162,66],"./ion-searchbar-md.entry.js":[163,67],"./ion-segment_2-ios.entry.js":[164,68],"./ion-segment_2-md.entry.js":[165,69],"./ion-select_3-ios.entry.js":[166,70],"./ion-select_3-md.entry.js":[167,71],"./ion-slide_2-ios.entry.js":[168,86],"./ion-slide_2-md.entry.js":[169,87],"./ion-spinner.entry.js":[170,25],"./ion-split-pane-ios.entry.js":[171,88],"./ion-split-pane-md.entry.js":[172,89],"./ion-tab-bar_2-ios.entry.js":[173,72],"./ion-tab-bar_2-md.entry.js":[174,73],"./ion-tab_2.entry.js":[175,28],"./ion-text.entry.js":[176,74],"./ion-textarea-ios.entry.js":[177,75],"./ion-textarea-md.entry.js":[178,76],"./ion-toast-ios.entry.js":[179,77],"./ion-toast-md.entry.js":[180,78],"./ion-toggle-ios.entry.js":[181,23],"./ion-toggle-md.entry.js":[182,24],"./ion-virtual-scroll.entry.js":[183,90]};function c(e){if(!n.o(a,e))return Promise.resolve().then((function(){var t=new Error("Cannot find module '"+e+"'");throw t.code="MODULE_NOT_FOUND",t}));var t=a[e],c=t[0];return n.e(t[1]).then((function(){return n(c)}))}c.keys=function(){return Object.keys(a)},c.id=68,e.exports=c},70:function(e,t,n){var a={"./ion-icon.entry.js":[187,93]};function c(e){if(!n.o(a,e))return Promise.resolve().then((function(){var t=new Error("Cannot find module '"+e+"'");throw t.code="MODULE_NOT_FOUND",t}));var t=a[e],c=t[0];return n.e(t[1]).then((function(){return n(c)}))}c.keys=function(){return Object.keys(a)},c.id=70,e.exports=c}},[[62,9,12]]]);
//# sourceMappingURL=main.d37baeda.chunk.js.map